
language: java

env:
  global:
    - TMPDIR=/tmp

jdk:
  - oraclejdk8

python:
 - 2.7

install:
  - export JPF-TRAVIS="$TRAVIS_BUILD_DIR/jpf-travis"
  - mkdir -p $JPF-TRAVIS
  - wget --output-document=jpf-travis.tar.gz https://www.dropbox.com/s/vjqfokrldjv0mro/jpf-travis.tar.gz?dl=1;
  - tar xvf jpf-travis.tar.gz --strip-components=1 -C $JPF-TRAVIS;
  - ls $JPF-TRAVIS
  - cd $JPF-TRAVIS
  - export JPF-CORE="$TRAVIS_BUILD_DIR/jpf-travis/jpf-core"
  - mkdir -p $JPF-CORE
  - tar xvf jpf-core.tar.gz --strip-components=1 -C $JPF-CORE;
  - ls .jpf
  - mv .jpf $TRAVIS_BUILD_DIR

before_install:
   - echo "Running the experiments."
   - pwd
   - export LD_LIBRARY_PATH=$(pwd)/jayhorn/native_lib

script:   
   - ./run_jayhorn.sh

after_success:
   - echo "All done."
